"use strict";(self["webpackChunkmy_store"]=self["webpackChunkmy_store"]||[]).push([[558],{4947:function(t,e,i){i.r(e),i.d(e,{default:function(){return x}});var s=i(6252);const o={class:"product-detail-page"};function c(t,e,i,c,a,r){const d=(0,s.up)("Navbar"),l=(0,s.up)("ProductDetail"),u=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(d),(0,s.Wm)(l),(0,s.Wm)(u)])}var a=i(1670),r=i(3577);const d=t=>((0,s.dD)("data-v-3733c5ea"),t=t(),(0,s.Cn)(),t),l={class:"product-detail"},u={class:"container"},n=d((()=>(0,s._)("h2",null,"Detail",-1))),p={class:"product-info"},h={class:"product-image"},m=["src"],g={key:1,class:"thumbnail-images"},v=["src","onMouseover"],z={class:"product-details"},k={key:0},b={key:0,class:"product-price"},w={class:"product-description"},f={class:"form-group mb-3"},D=d((()=>(0,s._)("label",{class:"select-label"},"Select size:",-1))),S={class:"size-buttons"},_=["onClick","disabled"],y={key:1};function C(t,e,o,c,a,d){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",u,[n,(0,s._)("div",p,[(0,s._)("div",h,[a.product&&a.product.imageUrl?((0,s.wg)(),(0,s.iD)("img",{key:0,src:i(990)(`./${a.product.imageUrl}`),alt:"Hình ảnh sản phẩm",class:"product-image"},null,8,m)):(0,s.kq)("",!0),a.product&&a.product.thumbnails?((0,s.wg)(),(0,s.iD)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.product.thumbnails,((t,e)=>((0,s.wg)(),(0,s.iD)("img",{key:e,src:i(990)(`./${t}`),alt:"Thumbnail",class:"thumbnail",onMouseover:e=>d.displayImage(t),style:{width:"100px",height:"100px","object-fit":"cover"}},null,40,v)))),128))])):(0,s.kq)("",!0)]),(0,s._)("div",z,[a.product?((0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("h3",null,(0,r.zw)(a.product.name),1),void 0!==a.product.price?((0,s.wg)(),(0,s.iD)("p",b," Price: "+(0,r.zw)(d.formatCurrency(a.product.price))+" $ ",1)):(0,s.kq)("",!0),(0,s._)("p",w,(0,r.zw)(a.product.description),1),(0,s._)("div",f,[D,(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.product.sizes,((t,e)=>((0,s.wg)(),(0,s.iD)("button",{key:e,class:(0,r.C_)({"selected-size":a.selectedSize===t.size&&t.instock>0,"size-out-of-stock":0===t.instock}),onClick:e=>d.updateSelectedSize(t.size),disabled:0===t.instock},(0,r.zw)(t.size)+" ("+(0,r.zw)(t.instock)+") ",11,_)))),128))])]),(0,s._)("button",{onClick:e[0]||(e[0]=t=>d.addToCart(a.product)),class:"add-to-cart-button"}," Add to Cart ")])):((0,s.wg)(),(0,s.iD)("div",y,"Loading product information..."))])])])])}i(560);var P={name:"ProductDetailPage",data(){return{product:null,selectedSize:null,thumbnailImages:[],showSizeSelect:!1}},computed:{productStock(){const t={};return this.product&&this.product.sizes.forEach((e=>{t[e.size]=e.instock})),t}},mounted(){this.loadProductDetails(this.$route.params.id).then((()=>{this.updateAvailableSize()}))},methods:{async loadProductDetails(t){const e=await fetch(`http://localhost:3000/Products/?id=${t}`),i=await e.json();return this.product=i[0],this.updateAvailableSize(),Promise.resolve()},updateAvailableSize(){const t=this.product.sizes?.find((t=>t.instock>0));this.selectedSize=t?t.size:null},addToCart(t){if(this.$store.getters.isLoggedIn){if(!this.selectedSize)return void alert("Vui lòng chọn size");const e={...t,selectedSize:this.selectedSize};this.$store.commit("addToCart",e),alert("Đã thêm sản phẩm vào giỏ hàng!"),this.$router.push("/cart")}else alert("Vui lòng đăng nhập để thêm sản phẩm vào giỏ hàng"),this.$router.push("/login")},formatCurrency(t){return t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},displayImage(t){this.product.imageUrl=t},updateSelectedSize(t){this.selectedSize=t}}},$=i(3744);const I=(0,$.Z)(P,[["render",C],["__scopeId","data-v-3733c5ea"]]);var A=I,T=i(5788),Z={name:"ProductDetailPage",components:{Navbar:a.Z,ProductDetail:A,Footer:T.Z}};const q=(0,$.Z)(Z,[["render",c],["__scopeId","data-v-62a63a1c"]]);var x=q}}]);
//# sourceMappingURL=productdetail.0d21c93a.js.map