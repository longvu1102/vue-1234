{"version":3,"file":"js/productdetail.0d21c93a.js","mappings":"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","sources":["webpack://my-store/./src/views/ProductDetailPage.vue","webpack://my-store/./src/components/ProductDetail.vue","webpack://my-store/./src/components/ProductDetail.vue?c2e8","webpack://my-store/./src/views/ProductDetailPage.vue?60d2"],"sourcesContent":["<template>\r\n    <div class=\"product-detail-page\">\r\n      <Navbar />\r\n      <ProductDetail />\r\n      <Footer />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Navbar from '@/components/Navbar.vue';\r\n  import ProductDetail from '@/components/ProductDetail.vue';\r\n  import Footer from '@/components/Footer.vue';\r\n  \r\n  export default {\r\n    name: 'ProductDetailPage',\r\n    components: {\r\n      Navbar,\r\n      ProductDetail,\r\n      Footer,\r\n    },\r\n    // ProductDetailPage logic\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Your ProductDetailPage styles here */\r\n  </style>\r\n  ","<template>\r\n  <div class=\"product-detail\">\r\n    <div class=\"container\">\r\n      <h2>Detail</h2>\r\n      <div class=\"product-info\">\r\n        <div class=\"product-image\">\r\n          <img\r\n            v-if=\"product && product.imageUrl\"\r\n            :src=\"require(`@/assets/images/${product.imageUrl}`)\"\r\n            alt=\"Hình ảnh sản phẩm\"\r\n            class=\"product-image\"\r\n          />\r\n          <!-- Thumbnail images -->\r\n          <div class=\"thumbnail-images\" v-if=\"product && product.thumbnails\">\r\n            <img\r\n              v-for=\"(thumbnail, index) in product.thumbnails\"\r\n              :key=\"index\"\r\n              :src=\"require(`@/assets/images/${thumbnail}`)\"\r\n              alt=\"Thumbnail\"\r\n              class=\"thumbnail\"\r\n              @mouseover=\"displayImage(thumbnail)\"\r\n              style=\"width: 100px; height: 100px; object-fit: cover\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"product-details\">\r\n          <div v-if=\"product\">\r\n            <h3>{{ product.name }}</h3>\r\n            <p v-if=\"product.price !== undefined\" class=\"product-price\">\r\n              Price: {{ formatCurrency(product.price) }} $\r\n            </p>\r\n            <p class=\"product-description\">{{ product.description }}</p>\r\n            <!-- Select box for size -->\r\n            <div class=\"form-group mb-3\">\r\n              <label class=\"select-label\">Select size:</label>\r\n              <div class=\"size-buttons\">\r\n                <button\r\n                  v-for=\"(sizeItem, index) in product.sizes\"\r\n                  :key=\"index\"\r\n                  :class=\"{\r\n                    'selected-size':\r\n                      selectedSize === sizeItem.size && sizeItem.instock > 0,\r\n                    'size-out-of-stock': sizeItem.instock === 0,\r\n                  }\"\r\n                  @click=\"updateSelectedSize(sizeItem.size)\"\r\n                  :disabled=\"sizeItem.instock === 0\"\r\n                >\r\n                  {{ sizeItem.size }} ({{ sizeItem.instock }})\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <button @click=\"addToCart(product)\" class=\"add-to-cart-button\">\r\n              Add to Cart\r\n            </button>\r\n          </div>\r\n          <div v-else>Loading product information...</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ProductDetailPage\",\r\n  data() {\r\n    return {\r\n      product: null,\r\n      selectedSize: null,\r\n      thumbnailImages: [],\r\n      showSizeSelect: false,\r\n    };\r\n  },\r\n  computed: {\r\n    productStock() {\r\n      const stock = {};\r\n      if (this.product) {\r\n        this.product.sizes.forEach((sizeItem) => {\r\n          stock[sizeItem.size] = sizeItem.instock;\r\n        });\r\n      }\r\n      return stock;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadProductDetails(this.$route.params.id).then(() => {\r\n      this.updateAvailableSize();\r\n    });\r\n  },\r\n  methods: {\r\n    async loadProductDetails(productId) {\r\n      const response = await fetch(\r\n        `http://localhost:3000/Products/?id=${productId}`\r\n      );\r\n      const productData = await response.json();\r\n      this.product = productData[0];\r\n      this.updateAvailableSize();\r\n      return Promise.resolve();\r\n    },\r\n    updateAvailableSize() {\r\n      const firstAvailableSize = this.product.sizes?.find(\r\n        (sizeItem) => sizeItem.instock > 0\r\n      );\r\n      this.selectedSize = firstAvailableSize ? firstAvailableSize.size : null;\r\n    },\r\n    addToCart(product) {\r\n      if (this.$store.getters.isLoggedIn) {\r\n        if (!this.selectedSize) {\r\n          alert(\"Vui lòng chọn size\");\r\n          return;\r\n        }\r\n        // Thêm sản phẩm vào giỏ hàng\r\n        const productWithSize = {\r\n          ...product,\r\n          selectedSize: this.selectedSize, // Lưu thông tin size\r\n        };\r\n        this.$store.commit(\"addToCart\", productWithSize);\r\n        // Hiển thị thông báo và chuyển hướng đến trang giỏ hàng\r\n        alert(\"Đã thêm sản phẩm vào giỏ hàng!\");\r\n        this.$router.push(\"/cart\");\r\n      } else {\r\n        // Redirect đến trang đăng nhập nếu chưa đăng nhập\r\n        alert('Vui lòng đăng nhập để thêm sản phẩm vào giỏ hàng');\r\n        this.$router.push(\"/login\");\r\n      }\r\n    },\r\n    formatCurrency(value) {\r\n      // Format currency with comma separator\r\n      return value.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\r\n    },\r\n    displayImage(image) {\r\n      this.product.imageUrl = image;\r\n    },\r\n    updateSelectedSize(size) {\r\n      this.selectedSize = size;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add your styles here */\r\n.product-detail {\r\n  padding: 20px;\r\n}\r\n\r\n.product-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.product-image {\r\n  border-radius: 10px;\r\n  width: 50%;\r\n}\r\n\r\n.thumbnail-images {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 10px;\r\n  margin-right: 318px;\r\n  border-radius: 20px;\r\n}\r\n\r\n.thumbnail {\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  margin-right: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.product-details {\r\n  width: 45%;\r\n}\r\n\r\n.product-price {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-top: 10px;\r\n}\r\n\r\n.product-description {\r\n  margin-top: 10px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.size-buttons {\r\n  margin-top: 10px;\r\n}\r\n\r\n.size-buttons button {\r\n  margin-right: 10px;\r\n  padding: 5px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10px;\r\n  background-color: #f5f5f5;\r\n  color: #333;\r\n  cursor: pointer;\r\n}\r\n\r\n.size-buttons button.selected-size {\r\n  border-radius: 10px;\r\n  border: 2px solid #ee8012;\r\n  color: #0f0606;\r\n}\r\n\r\n.size-buttons button.size-out-of-stock {\r\n  background-color: #ddd;\r\n  color: #777;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.add-to-cart-button {\r\n  border: none;\r\n  margin-top: 20px;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  background-color: #ee8012;\r\n  color: white;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.add-to-cart-button:hover {\r\n  background-color: #dde0e3;\r\n  transition: all 0.2s;\r\n}\r\n</style>\r\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=3733c5ea&scoped=true\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=3733c5ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3733c5ea\"]])\n\nexport default __exports__","import { render } from \"./ProductDetailPage.vue?vue&type=template&id=62a63a1c&scoped=true\"\nimport script from \"./ProductDetailPage.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetailPage.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetailPage.vue?vue&type=style&index=0&id=62a63a1c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62a63a1c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Navbar","_component_ProductDetail","_component_Footer","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$data","product","imageUrl","src","require","alt","thumbnails","_hoisted_7","_Fragment","_renderList","thumbnail","index","key","onMouseover","$event","$options","displayImage","style","_hoisted_9","_hoisted_10","_toDisplayString","name","undefined","price","_hoisted_11","formatCurrency","_hoisted_12","description","_hoisted_13","_hoisted_14","_hoisted_15","sizes","sizeItem","_normalizeClass","selectedSize","size","instock","onClick","updateSelectedSize","disabled","_hoisted_16","_cache","addToCart","_hoisted_17","data","thumbnailImages","showSizeSelect","computed","productStock","stock","this","forEach","mounted","loadProductDetails","$route","params","id","then","updateAvailableSize","methods","productId","response","fetch","productData","json","Promise","resolve","firstAvailableSize","find","$store","getters","isLoggedIn","alert","productWithSize","commit","$router","push","value","toFixed","replace","image","__exports__","components","Navbar","ProductDetail","Footer","render"],"sourceRoot":""}